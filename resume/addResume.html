<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>resume</title>
  </head>

  <body style="margin: 0; padding: 0">
    <which-part type="nav"></which-part>
    <which-part type="threeBallBg"></which-part>
    <which-part type="breadCrumb"></which-part>
    <which-part type="addResume"></which-part>
    <which-part type="footer"></which-part>

    <script>
      class WhichPart extends HTMLElement 
      {
        connectedCallback() 
        {
          var choice = this.getAttribute('type');
          switch (choice) {
            case 'nav':
              this.innerHTML = `
              <nav style="position: fixed; background-color: #49108B; z-index: 10; width: 100%; display: flex; align-items: center; height: 103px; justify-content: space-between; padding: 0 30px 0 50px; box-sizing: border-box;"><a href="index.html" style="text-decoration: none"><div><h1 style="display: flex; align-items: center; font-size: 32px; font-weight: 400; line-height: 38px; margin: 0; color: white;"><img src="./images/人力銀行logo-05.png" alt="人力銀行 Logo" style="width: 110px; height: 40px; object-fit: none; margin-right: 0px" />人力銀行</h1></div></a><div style="display: flex; align-items: center; justify-content: end; gap: 80px"><a href="resumeMap.html" style="width: 45px; height: 35px; padding: 0" href="#"><img src="./images/map-search.png" alt="Find Job Icon" style="width: 100%; height: auto; aspect-ratio: 1/1; object-fit: cover" /></a><a style="width: 45px; height: 45px; padding: 0" href="#"><img src="./images/noticeIcon.png" alt="Notice Icon" style="width: 100%; height: auto; aspect-ratio: 1/1; object-fit: cover" /></a><button style="width: 45px; height: 45px; padding: 0; position: relative; background-color: transparent; border: none;" href="#"><img id="aboutMeIcon" src="./images/aboutMeIcon.png" alt="About Me Icon" style="width: 100%; height: auto; aspect-ratio: 1/1; object-fit: cover" /><div id="aboutMeMenu" style="position: absolute; top: 63px; left: 50%; background-color: #49108B; padding: 15px 2px; border-radius: 10px; color: white; font-size: 24px; line-height: 35px; width: 150px; text-align: center; font-weight: 400; transform: translateX(-50%); display: none;"><div style="margin: 10px 0"><a href="addResume.html" style="text-decoration: none; color: inherit; display: block; width: 100%">履歷表</a></div><div style="margin: 10px 0">我的儲存</div><div style="margin: 10px 0">我的面試</div><div style="margin: 10px 0">資方評價指標</div></div></button><button type="button" style="background-color: transparent; border: none; cursor: pointer; width: 45px; height: 45px; padding: 0;"><img src="./images/menuFillIcon.png" alt="Menu Icon" style="width: 100%; height: auto; aspect-ratio: 1/1; object-fit: cover" /></button></div></nav>
              `; 
              break;
            case 'threeBallBg':
              this.innerHTML = `
              <div style="background-image: url('./images/Rectangle55.png'); width: 100vw; height: 100vh; background-size: cover; background-position: center; background-repeat: no-repeat; position: relative; z-index: 1;"><img src="./images/Ellipse 3.png" style="position: absolute; width: 471px; height: 471px; top: 47px; left: 60%; gap: 0px; opacity: 0px;" /><img src="./images/Ellipse 4.png" style="position: absolute; width: 322px; height: 322px; top: 417px; left: 18.5%; gap: 0px; opacity: 0px;" /><img src="./images/Ellipse 5.png" style="width: 118px; height: 118px; top: 283px; left: 49%; gap: 0px; opacity: 0px; position: absolute;" /></div>
              `;
              break;
            case 'breadCrumb':
              this.innerHTML = `
              <div style="top: 139px; left: 60px; gap: 0px; opacity: 1; position: absolute; z-index: 2"><img src="./images/icon-park-solid_image-files.png" style="width: 30px; height: 30px; vertical-align: bottom" /><span style="font-family: Inter; font-size: 24px; font-weight: 400; line-height: 29.05px; text-align: left; text-underline-position: from-font; text-decoration-skip-ink: none; color: white;padding-left:5px">履歷表</span></div>
              `;
              break;
            case 'addResume':
              this.innerHTML = `
              <div
                style="
                  border-width: 1px 0px 0px 1px;
                  border-style: solid;
                  border-color: #ffffff60;
                  width: 374px;
                  height: 256px;
                  border-radius: 20px;
                  position: absolute;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                  backdrop-filter: blur(15px);
                  box-shadow: 4px 4px 4px 0px #00000040;
                  background: #ffffff33;
                  z-index: 2;
                "
              >
                <div
                  id="addResumeBox"
                  style="position: relative; width: 100%; height: 100%"
                  onclick="toggleResumeBoxes()"
                >
                  <div
                    style="
                      width: 226px;
                      height: 1px;
                      top: 25px;
                      left: 25px;
                      gap: 0px;
                      border: none;
                      opacity: 1;
                      position: absolute;
                      background-color: #ffffff60;
                    "
                  ></div>
                  <div
                    style="
                      width: 148px;
                      top: 140px;
                      left: 44px;
                      gap: 0px;
                      opacity: 0px;
                      position: absolute;
                      color: white;
                    "
                  >
                    <p
                      style="
                        font-family: Inter;
                        font-size: 24px;
                        font-weight: 700;
                        line-height: 29.05px;
                        text-align: left;
                        text-underline-position: from-font;
                        text-decoration-skip-ink: none;
                        margin: 0;
                      "
                    >
                      Add Resume
                    </p>
                    <p
                      style="
                        font-family: Inter;
                        font-size: 24px;
                        font-weight: 400;
                        line-height: 29.05px;
                        text-align: left;
                        text-underline-position: from-font;
                        text-decoration-skip-ink: none;
                        margin-top: 6px;
                      "
                    >
                      新增履歷
                    </p>
                  </div>
                  <p
                    style="
                      bottom: -80px;
                      left: 173px;
                      gap: 0px;
                      position: absolute;
                      font-family: Inter;
                      font-size: 24px;
                      font-weight: 400;
                      line-height: 29.05px;
                      text-align: left;
                      text-underline-position: from-font;
                      text-decoration-skip-ink: none;
                      color: #f3f8ff;
                      z-index: 2;
                      white-space: nowrap;
                    "
                  >
                    找工作前先建立自己的履歷吧!
                  </p>
                </div>
                <div
                  id="nameResumeBox"
                  style="position: relative; width: 100%; height: 100%; display: none"
                >
                  <div
                    style="
                      width: 226px;
                      height: 1px;
                      top: 25px;
                      left: 25px;
                      gap: 0px;
                      border: none;
                      opacity: 1;
                      position: absolute;
                      background-color: #ffffff60;
                    "
                  ></div>
                  <div
                    style="
                      width: 148px;
                      top: 42px;
                      left: 28px;
                      gap: 0px;
                      opacity: 0px;
                      position: absolute;
                      color: white;
                    "
                  >
                    <p
                      style="
                        font-family: Inter;
                        font-size: 24px;
                        font-weight: 700;
                        text-align: left;
                        margin: 0;
                      "
                    >
                      命名新履歷
                    </p>
                  </div>
                  <div class="input-container">
                    <div class="input-wrapper">
                      <input
                        type="text"
                        placeholder="第一份履歷.........."
                        class="resume-input"
                      />
                      <button
                        id="clear-btn"
                        style="display: none"
                        class="clear-btn"
                      >
                        ×
                      </button>
                      <div class="input-underline"></div>
                    </div>
                    <div class="buttons">
                      <button
                        class="cancel"
                        onclick="toggleResumeBoxes()"
                      >
                        取消
                      </button>
                      <a href="./resumeDetail.html"><button class="next">下一頁</button></a>
                    </div>
                  </div>
                </div>
              </div>              
              `;
              break;
            case 'footer':
              this.innerHTML = `
              <footer><button type="button" style="position: fixed; bottom: 26px; right: 26px; cursor: pointer; border-radius: 50%; z-index: 2; width: 83px; height: 83px; background: transparent; border: none;"><img src="./images/chatBarIcon.png" alt="Chat Button" /></button></footer>            
              `;
              break;
          }
        }
      }
      customElements.define('which-part', WhichPart);

      function toggleResumeBoxes() {
        const addResumeBox = document.getElementById('addResumeBox');
        const nameResumeBox = document.getElementById('nameResumeBox');
        const isAddResumeBoxVisible = addResumeBox.style.display !== 'none';

        addResumeBox.style.display = isAddResumeBoxVisible ? 'none' : 'block';
        nameResumeBox.style.display = isAddResumeBoxVisible ? 'block' : 'none';
      }

      document.addEventListener('DOMContentLoaded', () => {
        const aboutMeIcon = document.getElementById('aboutMeIcon');
        const aboutMeMenu = document.getElementById('aboutMeMenu');

        aboutMeIcon.addEventListener('click', function () {
          if (this.src.includes('aboutMeIconbBlue.png')) {
            this.src = './images/aboutMeIcon.png';
          } else {
            if (window.location.href.includes('index')) {
              this.src = './images/aboutMeIconbBlue.png';
            }
          }

          if (aboutMeMenu.style.display === 'none' || !aboutMeMenu.style.display) {
            aboutMeMenu.style.display = 'block';
          } else {
            aboutMeMenu.style.display = 'none';
          }
        });

        document.addEventListener('click', function (event) {
          if (!aboutMeIcon.contains(event.target) && !aboutMeMenu.contains(event.target)) {
            aboutMeMenu.style.display = 'none';
            aboutMeIcon.src = './images/aboutMeIcon.png';
          }
        });

        const input = document.querySelector('.resume-input');
        const clearBtn = document.querySelector('#clear-btn');

        input.addEventListener('input', () => {
          clearBtn.style.display = input.value ? 'flex' : 'none';
        });

        clearBtn.addEventListener('click', () => {
          input.value = '';
          clearBtn.style.display = 'none';
          input.focus();
        });

        input.addEventListener('focus', () => {
          if (input.value) {
            clearBtn.style.display = 'flex';
          }
        });

        input.addEventListener('blur', () => {
          setTimeout(() => {
            clearBtn.style.display = 'none';
          }, 100);
        });
      });

      const appendStyle = document.createElement('style');
      (function () {
        appendStyle.textContent = `
          .input-container {
            background: transparent;
            position: absolute;
            top: 132px;
            left: 25px;
            width: 287px;
          }

          .input-wrapper {
            position: relative;
          }

          .resume-input {
            background: transparent;
            border: none;
            color: white;
            font-size: 16px;
            width: 100%;
            padding: 8px 0;
          }

          .resume-input:focus {
            outline: none;
            box-shadow: none;
          }

          .input-underline {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background-color: white;
          }

          .resume-input::placeholder {
            color: #999;
            font-family: Inter;
            font-size: 18px;
            font-weight: 400;
            line-height: 21.78px;
            text-align: left;
            text-underline-position: from-font;
            text-decoration-skip-ink: none;
          }

          .clear-btn {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            border: none;
            color: #666;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            font-weight: 300;
            padding: 0;
          }

          .buttons {
            display: flex;
            justify-content: space-between;
          }

          button {
            background: transparent;
            border: none;
            color: white;
            padding: 30px 0 0 10px;
            font-family: Inter;
            font-size: 20px;
            font-weight: 700;
            line-height: 24.2px;
            text-align: left;
            text-underline-position: from-font;
            text-decoration-skip-ink: none;
          }
        `;
        document.head.appendChild(appendStyle);
      })();
    </script>
  </body>
</html>
